{"ast":null,"code":"var _jsxFileName = \"/Users/olimostovyi/Documents/WebDev/projects/movie-search-app/client/src/components/Bookmarked.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport film from \"../assets/film.svg\";\nimport M from 'materialize-css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Bookmarked = () => {\n  _s();\n\n  M.AutoInit();\n  const [bookmarkedMovies, setBookmarkedMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    getMovies();\n    console.log('bookmarkedMovies :>> ', bookmarkedMovies);\n  }, []);\n\n  const getMovies = async () => {\n    const moviesFromServer = await fetchMovies();\n    console.log('moviesFromServer:', moviesFromServer);\n    setBookmarkedMovies(moviesFromServer);\n    setIsLoading(false);\n  }; // Fetch movies from db\n\n\n  const fetchMovies = async () => {\n    const res = await fetch('http://localhost:9000/api/v1/movies/');\n    const data = await res.json();\n    console.log('data :>> ', data);\n    return data.data;\n  }; // Delete movie from list\n\n\n  const deleteFromDB = async id => {\n    await fetch(`http://localhost:9000/api/v1/movies/${id}`, {\n      method: 'DELETE'\n    });\n    setBookmarkedMovies(bookmarkedMovies.filter(movie => movie._id !== id));\n  }; // Expand all movies lis\n\n\n  const expandAll = () => {\n    document.addEventListener('DOMContentLoaded', function () {\n      let elems = document.querySelectorAll('.popout');\n      let instances = M.Collapsible.init(elems);\n      return instances.open();\n    });\n  };\n\n  let bookmarkedDom;\n\n  if (isLoading) {\n    bookmarkedDom = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"progress\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"indeterminate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  } else {\n    bookmarkedDom = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Bookmarked\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: expandAll,\n        children: \"Expand All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        class: \"collapsible popout\",\n        children: bookmarkedMovies.map((movie, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"collapsible-header blue-grey darken-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\",\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), index + 1, ' ', movie.original_language !== 'en' ? `${movie.title} (${movie.original_title})` : movie.original_title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Ratings: \", movie.vote_average, ' ', /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-star \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"collapsible-body row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bookmarked-image col s2\",\n                children: movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"activator\",\n                  src: `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: film,\n                  className: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"col s10\",\n                children: movie.overview\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"col s10\",\n                href: `https://www.themoviedb.org/movie/${movie.ref_id}`,\n                target: \"_blank\",\n                children: \"Read More\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn movie-btn delete-btn col\",\n                onClick: () => {\n                  deleteFromDB(movie._id);\n                },\n                children: \"Delete from List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, movie._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: bookmarkedDom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Bookmarked, \"NIV/3MUG8fwgRmBYT6o0ZKnV9rs=\");\n\n_c = Bookmarked;\nexport default Bookmarked;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bookmarked\");","map":{"version":3,"sources":["/Users/olimostovyi/Documents/WebDev/projects/movie-search-app/client/src/components/Bookmarked.js"],"names":["useEffect","useState","M","Bookmarked","AutoInit","bookmarkedMovies","setBookmarkedMovies","isLoading","setIsLoading","getMovies","console","log","moviesFromServer","fetchMovies","res","fetch","data","json","deleteFromDB","id","method","filter","movie","_id","expandAll","document","addEventListener","elems","querySelectorAll","instances","Collapsible","init","open","bookmarkedDom","map","index","original_language","title","original_title","vote_average","poster_path","film","overview","ref_id"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport film from '../assets/film.svg';\nimport M from 'materialize-css';\n\nconst Bookmarked = () => {\n  M.AutoInit();\n  const [bookmarkedMovies, setBookmarkedMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    getMovies();\n    console.log('bookmarkedMovies :>> ', bookmarkedMovies);\n  }, []);\n\n  const getMovies = async () => {\n    const moviesFromServer = await fetchMovies();\n    console.log('moviesFromServer:', moviesFromServer);\n    setBookmarkedMovies(moviesFromServer);\n    setIsLoading(false);\n  };\n  // Fetch movies from db\n  const fetchMovies = async () => {\n    const res = await fetch('http://localhost:9000/api/v1/movies/');\n    const data = await res.json();\n    console.log('data :>> ', data);\n    return data.data;\n  };\n\n  // Delete movie from list\n  const deleteFromDB = async id => {\n    await fetch(`http://localhost:9000/api/v1/movies/${id}`, {\n      method: 'DELETE'\n    });\n\n    setBookmarkedMovies(bookmarkedMovies.filter(movie => movie._id !== id));\n  };\n\n  // Expand all movies lis\n  const expandAll = () => {\n    document.addEventListener('DOMContentLoaded', function () {\n      let elems = document.querySelectorAll('.popout');\n      let instances = M.Collapsible.init(elems);\n\n      return instances.open();\n    });\n  };\n  let bookmarkedDom;\n\n  if (isLoading) {\n    bookmarkedDom = (\n      <div className='container'>\n        <div class='progress'>\n          <div class='indeterminate'></div>\n        </div>\n      </div>\n    );\n  } else {\n    bookmarkedDom = (\n      <div className='container'>\n        <div className='header'>\n          <h2>Bookmarked</h2>\n        </div>\n        <button onClick={expandAll}>Expand All</button>\n        <ul class='collapsible popout'>\n          {bookmarkedMovies.map((movie, index) => {\n            return (\n              <li key={movie._id}>\n                <div className='collapsible-header blue-grey darken-2'>\n                  <div>\n                    <i className='fas fa-film'> </i>\n                    {index + 1}{' '}\n                    {movie.original_language !== 'en'\n                      ? `${movie.title} (${movie.original_title})`\n                      : movie.original_title}\n                  </div>{' '}\n                  <div>\n                    Ratings: {movie.vote_average}{' '}\n                    <i className='fas fa-star '></i>\n                  </div>\n                </div>\n                <div className='collapsible-body row'>\n                  {\n                    <div className='bookmarked-image col s2'>\n                      {movie.poster_path ? (\n                        <img\n                          className='activator'\n                          src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`}\n                        />\n                      ) : (\n                        <img src={film} className='' />\n                      )}\n                    </div>\n                  }{' '}\n                  <span className='col s10'>{movie.overview}</span>\n                  <a\n                    className='col s10'\n                    href={`https://www.themoviedb.org/movie/${movie.ref_id}`}\n                    target='_blank'\n                  >\n                    Read More\n                  </a>\n                  <button\n                    className='btn movie-btn delete-btn col'\n                    onClick={() => {\n                      deleteFromDB(movie._id);\n                    }}\n                  >\n                    Delete from List\n                  </button>\n                </div>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n\n  return <div>{bookmarkedDom}</div>;\n};\n\nexport default Bookmarked;\n"]},"metadata":{},"sourceType":"module"}